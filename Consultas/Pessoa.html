<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Consulta Pessoas</title>
    <link rel="stylesheet" href="../sidebars/bootstrap.min.css">
    <link rel="icon" href="../icons/warning.png" sizes="192x192"/>


    <style>
        body{
            width: 90%;
            margin: auto;
        }
        th,td{
            padding: 10px;
            text-align: center;
        }
    </style>
</head>
<body onload="init()">
    <h3>Pessoas:</h3>
    <p>Filtros:</p>
    
    <div class="box-sqr">
        <table id="tablePerson" class="table table-striped table-hover">
            <tr class="table table-dark">
                <th>IDPessoa</th>
                <th>Nome</th>
                <th>CPF</th>
                <th>Matr√≠cula</th>
                <th>Setor</th>
                <th>Secao</th>
                <th>E-mail</th>
            </tr>
        </table>
    </div>
    

<script>
    function init() {
        displayPersons();
    }

    function displayPersons(){
        var xhr = new XMLHttpRequest();
            xhr.open("POST", "consultas.php", true)
            xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function(){
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        tablePerson.innerHTML += xhr.responseText;
                    } else {
                        console.error("Falha ao carregar as pessoas");
                    }
                }
            };
            xhr.send("select_ready=" + encodeURIComponent(1));

    }
</script>
</body>
</html>