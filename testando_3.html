<label style="padding-top: 20px;" for="funcionario">QUAL O NOME DO FUNCIONÁRIO?</label>
<input type="text" id="funcionario" name="funcionario" required>
<div id="sugestoes"></div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const inputFuncionario = document.getElementById("funcionario");
  const sugestoes = document.getElementById("sugestoes");

  inputFuncionario.addEventListener("input", function () {
    const termo = inputFuncionario.value;

    if (termo.length >= 2) {
      fetch(`buscar_nomes.php?termo=${termo}`)
        .then((response) => response.json())
        .then((data) => {
          sugestoes.innerHTML = ""; // Limpe as sugestões existentes

          // Crie um dropdown com as sugestões
          const dropdown = document.createElement("div");
          dropdown.classList.add("dropdown");

          data.forEach((nome) => {
            const sugestao = document.createElement("div");
            sugestao.classList.add("item");
            sugestao.textContent = nome;
            sugestao.addEventListener("click", function () {
              inputFuncionario.value = nome;
              sugestoes.innerHTML = ""; // Limpe o dropdown quando uma sugestão for selecionada
            });
            dropdown.appendChild(sugestao);
          });

          sugestoes.appendChild(dropdown);
        })
        .catch((error) => {
          console.error(error);
        });
    } else {
      sugestoes.innerHTML = "";
    }
  });
});
</script>

<style>
.dropdown {
  border: 1px solid #ccc;
  max-height: 150px;
  overflow-y: auto;
}

.item {
  padding: 8px;
  cursor: pointer;
}

.item:hover {
  background-color: #f0f0f0;
}
</style>
